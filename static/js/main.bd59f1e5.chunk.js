(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,n){e.exports=n(395)},390:function(e,t,n){},392:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(111),o=n.n(c),i=n(47),u=n(129),s=n.n(u)()(),l=n(116),f=n(38),p=n(115),m=n(89),b=n(131),h="".concat("NCCU_COURSE","/INIT"),d="".concat("NCCU_COURSE","/FETCH_SEMESTER_LIST"),O="".concat("NCCU_COURSE","/SET_SEMESTER_LIST"),v="".concat("NCCU_COURSE","/FETCH_COURSES_LIST"),j="".concat("NCCU_COURSE","/SET_COURSES_LIST_MAP"),y=Object(f.fromJS)({semesterList:[],coursesListMap:{}});var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e.set("semesterList",Object(f.fromJS)(t.payload.semesterList));case j:var n=t.payload,r=n.semester,a=n.coursesList;return e.updateIn(["coursesListMap"],function(e){return e.set(r,Object(f.fromJS)(a))});default:return e}};var g=n(132),_=n(398),w=n(400),C=n(57),L="https://raw.githubusercontent.com/progeneral777/nccu_course_data_test/master",S="APP_API_STATUS",M=new Headers({"Content-Type":"application/json"});function x(e){this.action=e,this.name="ActionException"}var T=function(e){return{type:S,payload:e}};var k=function(e){if(e instanceof x)throw e;throw navigator.onLine?new x(T(503)):new x(T(420))},P=function(e){return C.Observable.of(e.action)},U=function(e){var t=e.method,n=e.url,r=e.download,a=void 0!==r&&r;return C.Observable.from(fetch(n,{method:t,JSON_HEADER:M}).then(function(e){if(400===e.status);else{if(401===e.status)throw new x({type:(localStorage.clear(),sessionStorage.clear(),S),payload:401});if(e.status>=500)throw new x(T(e.status))}return e})).catch(k).mergeMap(function(e){return a?C.Observable.from(e.blob()):C.Observable.from(e.json())}).map(function(e){if(a)return e;if(e.code)throw new x({type:"APP_ERROR_CODE",payload:e});return e})},R=[function(e,t){return e.ofType(h).switchMap(function(){return C.Observable.empty()})},function(e){return e.ofType(d).switchMap(function(){return U({method:"get",url:"".concat(L,"/index.json")}).flatMap(function(e){return C.Observable.of(function(e){return{type:O,payload:{semesterList:e}}}(e))}).catch(P)})},function(e){return e.ofType(v).switchMap(function(e){var t=e.payload.semester;return U({method:"get",url:"".concat(L,"/").concat(t,"/courses.json")}).flatMap(function(e){return C.Observable.of(function(e,t){return{type:j,payload:{semester:e,coursesList:t}}}(t,e))}).catch(P)})}],N=Object(l.a)(R);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=new g.BehaviorSubject(_.a.apply(void 0,Object(l.a)(N))),r=Object(w.a)(),a=[r,Object(p.b)(t)],c=[m.a.apply(void 0,a)],o=m.c,i=Object(m.d)(Object(b.combineReducers)({nccuCourse:E}),Object(f.fromJS)(e),o.apply(void 0,c));return r.run(function(e,t,r){return n.mergeMap(function(n){return n(e,t,r).catch(function(e,t){return setTimeout(function(){throw e},0),t})})}),i}({},s),I=(n(390),n(44)),J=n(45),B=n(48),D=n(46),H=n(49),F=n(402),z=(n(392),n(41)),W=n(55),$=n(56);function q(){var e=Object(W.a)(["\n    .nccu-brand__nccu {\n        color: white;\n        font-size: 32px;\n        font-weight: 900;\n        font-family: 'Archivo Black', sans-serif;\n    }\n    .nccu-brand__course {\n        font-family: 'Francois One', sans-serif;\n        color: #5383d3;\n        font-size: 25px;\n    }\n"]);return q=function(){return e},e}function G(){var e=Object(W.a)(["\n    display: flex;\n    justify-content: center;\n    background: #ffffff0a; /* navigation bar background color */\n    .navigation-bar__main-content {\n        ","\n        height: ","px;\n        line-height: ","px;\n    }\n"]);return G=function(){return e},e}var K=function(){return"\n    width: ".concat(1e3,"px;\n    @media only screen and (max-width: ").concat(1e3,"px) {\n        width: 100%;\n        padding: 0px ").concat(10,"px;\n    }\n")},Q=$.a.div(G(),K(),50,50),V=$.a.div(q()),X=function(){return a.a.createElement(V,null,a.a.createElement("span",{className:"nccu-brand__nccu"},"NCCU"),a.a.createElement("span",{className:"nccu-brand__course"},"course"))},Y=function(){return a.a.createElement(Q,null,a.a.createElement("div",{className:"navigation-bar__main-content"},a.a.createElement(X,null)))},Z=function(e){return e.get("nccuCourse")},ee=function(){return Object(z.a)(Z,function(e){return e.get("semesterList")})};function te(){var e=Object(W.a)(["\n    display: flex;\n    justify-content: center;\n    height: calc(100vh - ","px);\n    overflow-y: auto;\n    .main-content__main-content {\n        ","\n    }\n"]);return te=function(){return e},e}var ne=$.a.div(te(),50,K()),re=n(401),ae=n(399);function ce(){var e=Object(W.a)(["\n    display: grid;\n"]);return ce=function(){return e},e}var oe=$.a.div(ce()),ie=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.semesterList;return a.a.createElement(oe,null,e.map(function(e){return a.a.createElement("div",{key:e},e.get("semester"))}))}}]),t}(a.a.Component),ue=Object(z.b)({semesterList:ee()}),se=Object(i.b)(ue,function(e){return{}})(ie),le=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.semesterList,n=e.coursesListMap,r=e.match,a=e.handlefetchCoursesList,c=r.params.semester;t.find(function(e){return e.get("semester")===c})&&!n.get(c)&&a(c)}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.coursesListMap,r=t.params.semester,c=n.get(r);return a.a.createElement("div",null,c&&c.map(function(e){return a.a.createElement("div",{key:e},e.get("name"))}))}}]),t}(a.a.Component);le.defaultProps={match:{},semesterList:Object(f.List)(),coursesListMap:Object(f.Map)(),handlefetchCoursesList:function(){}};var fe=Object(z.b)({semesterList:ee(),coursesListMap:Object(z.a)(Z,function(e){return e.get("coursesListMap")})}),pe=Object(i.b)(fe,function(e){return{handlefetchCoursesList:function(t){return e(function(e){return{type:v,payload:{semester:e}}}(t))}}})(le),me={semesterSelectPagePath:"/nccucourse-react/",courseListPagePath:"/nccucourse-react/:semester"},be=function(){return a.a.createElement(re.a,null,a.a.createElement(ae.a,{exact:!0,path:me.semesterSelectPagePath,component:se}),a.a.createElement(ae.a,{path:me.courseListPagePath,component:pe}))},he=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.location;return a.a.createElement(ne,null,a.a.createElement("div",{className:"main-content__main-content"},a.a.createElement(be,{location:e})))}}]),t}(a.a.Component),de=Object(z.b)({semesterList:ee()}),Oe=Object(i.b)(de,function(e){return{}})(he);function ve(){var e=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return ve=function(){return e},e}var je=$.a.div(ve()),ye=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handlefetchSemesterList)()}},{key:"render",value:function(){return a.a.createElement(je,null,a.a.createElement(Y,null),a.a.createElement(Oe,null))}}]),t}(a.a.Component),Ee=Object(z.b)({}),ge=Object(i.b)(Ee,function(e){return{handlefetchSemesterList:function(){return e({type:d})}}})(ye),_e=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(ge,null))}}]),t}(r.Component),we=Object(F.a)(_e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(i.a,{store:A},a.a.createElement(p.a,{history:s},a.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[139,2,1]]]);
//# sourceMappingURL=main.bd59f1e5.chunk.js.map